[gd_scene load_steps=18 format=2]

[ext_resource path="res://Materials/Ground.tres" type="Material" id=1]
[ext_resource path="res://Scenes/Scripts/Walkable.cs" type="Script" id=2]
[ext_resource path="res://Meshes/Rock.tres" type="ArrayMesh" id=3]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 0.8, 0.6, 0.8 )

[sub_resource type="Gradient" id=37]
offsets = PoolRealArray( 0, 0.070632, 0.468401, 0.710037, 1 )
colors = PoolColorArray( 0.101961, 0.0431373, 0.054902, 0, 0.1, 0.042, 0.0536, 0.784314, 0.1, 0.042, 0.0536, 0.784314, 0.29, 0.149833, 0.1218, 0.784314, 0.290196, 0.14902, 0.121569, 0 )

[sub_resource type="GradientTexture" id=29]
gradient = SubResource( 37 )

[sub_resource type="Curve" id=38]
_data = [ Vector2( 0.277397, 0 ), 0.0, 0.0, 0, 0, Vector2( 0.804795, 1 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="CurveTexture" id=31]
curve = SubResource( 38 )

[sub_resource type="ParticlesMaterial" id=39]
direction = Vector3( 0, 0, 0 )
spread = 180.0
flatness = 1.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 0.04
radial_accel = 0.8
radial_accel_random = 0.8
scale = 0.05
scale_random = 0.04
scale_curve = SubResource( 31 )
color_ramp = SubResource( 29 )

[sub_resource type="SpatialMaterial" id=33]
flags_transparent = true
vertex_color_use_as_albedo = true

[sub_resource type="SphereMesh" id=40]
material = SubResource( 33 )

[sub_resource type="Curve" id=34]
_data = [ Vector2( 0.633562, 1 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="CurveTexture" id=25]
curve = SubResource( 34 )

[sub_resource type="ParticlesMaterial" id=35]
emission_shape = 2
emission_box_extents = Vector3( 0.4, 0.2, 0.4 )
scale = 0.05
scale_random = 0.22
scale_curve = SubResource( 25 )

[sub_resource type="SphereMesh" id=36]
material = ExtResource( 1 )
radial_segments = 4
rings = 1

[sub_resource type="CapsuleMesh" id=41]

[sub_resource type="SpatialMaterial" id=42]
albedo_color = Color( 1, 0, 0, 1 )

[node name="Walkable" type="RigidBody" groups=["walkables"]]
collision_layer = 4
collision_mask = 0
gravity_scale = 0.0
script = ExtResource( 2 )

[node name="Shape" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.6, 0 )
shape = SubResource( 1 )

[node name="Visual1" type="MeshInstance" parent="."]
transform = Transform( 0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0, -0.8, 0 )
mesh = ExtResource( 3 )
skeleton = NodePath("../Shape")
material/0 = ExtResource( 1 )

[node name="Visual2" type="MeshInstance" parent="."]
transform = Transform( 0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0, -0.8, 0 )
visible = false
mesh = ExtResource( 3 )
skeleton = NodePath("../Shape")
material/0 = ExtResource( 1 )

[node name="Visual3" type="MeshInstance" parent="."]
transform = Transform( 0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0, -0.8, 0 )
visible = false
mesh = ExtResource( 3 )
skeleton = NodePath("../Shape")
material/0 = ExtResource( 1 )

[node name="Dust" type="Particles" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.04, 0 )
visible = false
emitting = false
amount = 150
one_shot = true
preprocess = 0.8
explosiveness = 0.85
process_material = SubResource( 39 )
draw_pass_1 = SubResource( 40 )

[node name="Crumbles" type="Particles" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.2, 0 )
visible = false
emitting = false
amount = 16
one_shot = true
preprocess = 0.4
explosiveness = 0.8
randomness = 0.4
visibility_aabb = AABB( -4, -6, -4, 8, 8, 8 )
process_material = SubResource( 35 )
draw_pass_1 = SubResource( 36 )

[node name="Indicator" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 1, 0 )
visible = false
mesh = SubResource( 41 )
material/0 = SubResource( 42 )
